<!-- profile.html -->
{% extends 'main/layout.html' %}
{% load static %}

{% block title %}Профиль{% endblock %}

{% block content %}
<div class="profile-container">
    <div class="profile-header">
        <h1>Профиль</h1>
    </div>
    <div class="profile-info">
        <h2>Имя пользователя</h2>
        <p>Фамилия</p>
        <p>email@example.com</p>
    </div>
    <div class="profile-edit">
        <form action="{% url 'users:profile' %}" method="post" enctype="multipart/form-data">
            {% csrf_token %}

            {% if user.image %}
                <img src="{{ user.image.url }}" alt="User Photo" class="profile-photo">
            {% else %}
                <img src="{% static 'users/img/profile.png' %}" alt="User Photo" style="max-width: 150px;" class="profile-photo">
             {% endif %}

            <input type="file" class="form-control" placeholder="Загрузить фото" id="id_image" name="image" accept="image/*"> <br>
            {% if form.image.errors %}
                <div class="alert alert-danger alert-dismissible fade show">{{form.image.errors}}</div>
            {% endif %}

            <input type="text" class="form-control" placeholder="Имя пользователя"
                   id="id_username"
                   name="username"
                   value="{{ form.username.value }}"> <br>
            {% if form.username.errors %}
                <div class="alert alert-danger alert-dismissible fade show">{{form.username.errors}}</div>
            {% endif %}

            <input type="text" class="form-control" placeholder="Имя"
                   id="id_first_name"
                   name="first_name"
                   value="{{ form.first_name.value }}"> <br>
            {% if form.first_name.errors %}
                <div class="alert alert-danger alert-dismissible fade show">{{form.first_name.errors}}</div>
            {% endif %}

            <input type="text" class="form-control" placeholder="Фамилия"
                   id="id_last_name"
                   name="last_name"
                   value="{{ form.last_name.value }}"> <br>
            {% if form.last_name.errors %}
                <div class="alert alert-danger alert-dismissible fade show">{{form.last_name.errors}}</div>
            {% endif %}

            <input type="email" class="form-control" placeholder="Email"
                   id="id_email"
                   name="email"
                   value="{{ form.email.value }}"
            > <br>
            {% if form.email.errors %}
                <div class="alert alert-danger alert-dismissible fade show">{{form.email.errors}}</div>
            {% endif %}

<!--            <input type="password" class="form-control" placeholder="Пароль"-->
<!--                   id="id-password"-->
<!--                   name="password"-->
<!--                   value="{{ form.password.value|length }}"-->
<!--            > <br>-->
<!--            {% if form.password1.errors %}-->
<!--                <div class="alert alert-danger alert-dismissible fade show">{{form.password1.errors}}</div>-->
<!--            {% endif %}-->

            <button class="btn btn-success" type="submit">Сохранить</button>
        </form>
    </div>
</div>
{% endblock %}
